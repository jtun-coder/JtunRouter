import{_ as Y,k as y,o as p,g as D,s as e,x as i,p as l,w as d,J as Z,Y as K,c as C,h as j,a as M,q as T,a6 as q}from"./index-X_y_Lweg.js";import{E as X}from"./el-dialog-8uJi_Sq2.js";import"./el-overlay-BbzQhQJ7.js";import{E as ss,a as es}from"./el-col-BD9sDvtY.js";import{m as R}from"./index-CcVygsTE.js";import{s as E}from"./selectBox-Ckc-fU3I.js";import"./index-DW-jbMBa.js";import"./index-Bh4Knf-X.js";import"./aria-BUADUvnR.js";import"./index-CQpVMKCZ.js";import"./index-D-QKPCnM.js";import"./typescript-Bp3YSIOJ.js";import"./request-CUVclgT8.js";import"./openDownLoad-DhbK9y2K.js";/* empty css                                                                  */const ts={class:"OnlineClient"},ds={class:"OnlineClientTop"},ls={class:"OnlineHeader"},os={class:"headerLeft"},as={class:"headerDesc"},ns={class:"OnlineBody"},is={class:"listTitle"},us={class:"selectForm"},ms={style:{"{\r\n                        padding":"0 24px",background:"#FCFCFC","border-top-left-radius":"16px","border-top-right-radius":"16px"}},rs={class:"topBox"},cs={class:"topBox"},_s={class:"topBox"},ps={class:"topBox"},vs={class:"topBox"},fs={class:"topBox"},hs={class:"tableBody"},ys={class:"statusBox"},gs={class:"statusBox"},xs={class:"statusBox"},ws={class:"statusBox"},ks={key:0,class:"allowText"},Bs={key:1,class:"denyText"},bs={class:"actionBox"},Ds=["onClick"],$s=["onClick"],Cs={class:"maskTitle"},Ts={class:"maskContent"},qs={class:"maskTitle"},Es={class:"maskItem"},Ss={class:"maskLabel"},Is={class:"maskItem"},Us={class:"maskLabel"},Vs={class:"topBox"},Ls=["readonly","placeholder"],As={class:"maskItem"},Ns={class:"maskLabel"},Os={class:"topBox"},Ms=["readonly","placeholder"],Rs={class:"maskItem"},Fs={class:"maskLabel"},Ps={class:"topBox"},zs=["readonly","placeholder"],Qs={class:"maskItem"},Gs={class:"maskLabel"},Hs={class:"footerBox"},Js={__name:"DynamicDns",setup(Ws){const r=y(!1),S=()=>{r.value=!r.value},v=y(!1),I=s=>{s==""?(v.value=!1,w=1,z()):(w=3,v.value=!0),r.value=!0},U=s=>{a.value.type=s.data},F=s=>{a.value.status=s.data},$=()=>navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);let B=1,V=2,g=3,x=4,c=[],w=0,L;var A={1:"允许",0:"禁止"};const b={134:"readvirsualnip",150:"querywifmacfilter",152:"readupnp",153:"setupnp",154:"readdmz",155:"setdmz",215:"queryinfo",221:"setdatabackup",222:"setdatarestore",223:"setuploaddataback",400:"logcaturl",401:"mtkloggeron",402:"mtkloggerpath",403:"querystatus",410:"querytype",411:"ddnsall"};var N=y([]);(async()=>{let s={cmd:f(b,"querytype"),logon_pwd:localStorage.getItem("psd")};await R(s,"querytype").then(function(t){t.code==200&&(N.value=t.ddns_optional_type,t.ddns_optional_type)}).catch(()=>{})})();var P=y(["允许","禁止"]);const a=y({type:"noip",hostname:"",username:"",password:"",status:"允许"}),z=()=>{a.value={type:"noip",hostname:"",username:"",password:"",status:"允许"}},Q=()=>{let s=/^([0-9a-zA-Z-]{1,}\.)+([a-zA-Z]{2,})$/;const{hostname:t,password:o,username:u}=a.value;if(t!=""){if(s.test(t)){if(u=="")return;if(o=="")return}else return;if(g==w){let m={cmd:f(b,"ddnsall"),logon_pwd:localStorage.getItem("psd"),ddsn_query:g,id:c[L].id,ddns_type:a.value.type,ddns_hostname:a.value.hostname,ddns_username:a.value.username,ddns_password:a.value.password,ddns_status:f(A,a.value.status)};console.log(m,"bool_edit_add"),h(g,0,m)}else if(B==w){let m={cmd:f(b,"ddnsall"),logon_pwd:localStorage.getItem("psd"),ddsn_query:B,ddns_type:a.value.type,ddns_hostname:a.value.hostname,ddns_username:a.value.username,ddns_password:a.value.password,ddns_status:f(A,a.value.status)};console.log(m),h(B,0,m)}setTimeout(()=>{h(x),r.value=!1},1500)}},G=s=>{var t="";return s==1?t="允许":s==0&&(t="禁止"),t},O=y([]),H=s=>{console.log(111);for(let t in s)s[t].disswitch=G(s[t].ddns_status);O.value=s};function f(s,t,o=(u,m)=>u===m){return Object.keys(s).find(u=>o(s[u],t))}const h=async(s,t,o)=>{console.log(s,t,o);let u=f(b,"ddnsall"),m=localStorage.getItem("psd"),n,_;return B==s||g==s?_=o:V==s?_={cmd:u,logon_pwd:m,ddsn_query:s,id:t}:x==s&&(_={cmd:u,logon_pwd:m,ddsn_query:s}),await R(_,"ddnsall").then(function(k){console.log("000",k),k.code==200&&(n=k,x==s&&(c=n.ddsn_dev,H(n.ddsn_dev)))}).catch(()=>{n=0}),n};h(x);const J=s=>{h(V,c[s].id),h(x)};function W(s){L=s,w=g;let t={type:c[s].ddns_type,hostname:c[s].ddns_hostname,username:c[s].ddns_username,password:c[s].ddns_password,status:""};c[s].ddns_status==1?t.status="允许":t.status="禁止",a.value=t,I(t)}return(s,t)=>{const o=es,u=ss,m=X;return p(),D("div",null,[e("div",ts,[e("div",ds,[e("div",ls,[e("div",os,i(s.$t("system.dynamic")),1),e("div",as,i(s.$t("system.descH")),1)]),e("div",ns,[e("div",is,i(s.$t("system.dnsList")),1),e("div",us,[l(u,{gutter:24,style:{width:"100%"}},{default:d(()=>[l(o,{lg:8,md:24,sm:24,xl:8,xs:24},{default:d(()=>[e("div",{class:"addBtn",onClick:t[0]||(t[0]=n=>I(""))},i(s.$t("system.add")),1)]),_:1}),l(o,{lg:16,md:24,sm:24,xl:16,xs:24})]),_:1})]),e("div",ms,[l(u,{gutter:24},{default:d(()=>[l(o,{lg:4,md:24,sm:24,xl:4,xs:24},{default:d(()=>[e("div",rs,i(s.$t("system.provider")),1)]),_:1}),l(o,{lg:4,md:24,sm:24,xl:4,xs:24},{default:d(()=>[e("div",cs,i(s.$t("system.domainName")),1)]),_:1}),l(o,{lg:4,md:24,sm:24,xl:4,xs:24},{default:d(()=>[e("div",_s,i(s.$t("system.userName")),1)]),_:1}),l(o,{lg:4,md:24,sm:24,xl:4,xs:24},{default:d(()=>[e("div",ps,i(s.$t("system.password")),1)]),_:1}),l(o,{lg:4,md:24,sm:24,xl:4,xs:24},{default:d(()=>[e("div",vs,i(s.$t("system.status")),1)]),_:1}),l(o,{lg:4,md:24,sm:24,xl:4,xs:24},{default:d(()=>[e("div",fs,i(s.$t("system.action")),1)]),_:1})]),_:1})]),e("div",hs,[(p(!0),D(Z,null,K(O.value,(n,_)=>(p(),C(u,{gutter:24},{default:d(()=>[l(o,{lg:4,md:24,sm:24,xl:4,xs:24},{default:d(()=>[e("div",ys,i(n.ddns_type),1)]),_:2},1024),l(o,{lg:4,md:24,sm:24,xl:4,xs:24},{default:d(()=>[e("div",gs,i(n.ddns_hostname),1)]),_:2},1024),l(o,{lg:4,md:24,sm:24,xl:4,xs:24},{default:d(()=>[e("div",xs,i(n.ddns_username),1)]),_:2},1024),l(o,{lg:4,md:24,sm:24,xl:4,xs:24},{default:d(()=>[e("div",ws,i(n.ddns_password),1)]),_:2},1024),l(o,{lg:4,md:24,sm:24,xl:4,xs:24},{default:d(()=>[n.ddns_status?(p(),D("div",ks,i(n.disswitch),1)):(p(),D("div",Bs,i(n.disswitch),1))]),_:2},1024),l(o,{lg:4,md:24,sm:24,xl:4,xs:24},{default:d(()=>[e("div",bs,[e("div",{class:"editText",onClick:k=>W(_)},"Edit",8,Ds),e("div",{class:"delText",onClick:k=>J(_)},"Delete",8,$s)])]),_:2},1024)]),_:2},1024))),256))])])])]),l(m,{modelValue:r.value,"onUpdate:modelValue":t[1]||(t[1]=n=>r.value=n),"before-close":S,"show-close":!1,width:$()?"90%":"30%"},{title:d(()=>[e("div",Cs,i(s.$t("system.addDns")),1)]),default:d(()=>[e("div",{style:j({padding:$()?"0":"0 40px"}),class:"maskContent"},null,4)]),_:1},8,["modelValue","width"]),l(m,{modelValue:r.value,"onUpdate:modelValue":t[6]||(t[6]=n=>r.value=n),"before-close":S,"show-close":!1,width:$()?"90%":"30%"},{footer:d(()=>[e("div",Hs,[e("div",{class:"btnBoxCancel",onClick:t[5]||(t[5]=n=>r.value=!1)},i(s.$t("system.cancel")),1),e("div",{class:"btnBoxConfirm",onClick:Q},i(s.$t("system.confirm")),1)])]),default:d(()=>[e("div",Ts,[e("div",qs,i(s.$t("system.addDns")),1),e("div",Es,[l(u,{gutter:24,style:{width:"100%"}},{default:d(()=>[l(o,{lg:8,md:24,sm:24,xl:8,xs:24},{default:d(()=>[e("div",Ss,i(s.$t("system.provider")),1)]),_:1}),l(o,{lg:16,md:24,sm:24,xl:16,xs:24},{default:d(()=>[v.value?(p(),C(E,{key:0,selectData:a.value.type,onUpdate:U,options:[a.value.type]},null,8,["selectData","options"])):(p(),C(E,{key:1,selectData:a.value.type,onUpdate:U,options:M(N)},null,8,["selectData","options"]))]),_:1})]),_:1})]),e("div",Is,[l(u,{gutter:24,style:{width:"100%"}},{default:d(()=>[l(o,{lg:8,md:24,sm:24,xl:8,xs:24},{default:d(()=>[e("div",Us,i(s.$t("system.domainName")),1)]),_:1}),l(o,{lg:16,md:24,sm:24,xl:16,xs:24},{default:d(()=>[e("div",Vs,[T(e("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=n=>a.value.hostname=n),readonly:v.value,placeholder:s.$t("public.text")},null,8,Ls),[[q,a.value.hostname]])])]),_:1})]),_:1})]),e("div",As,[l(u,{gutter:24,style:{width:"100%"}},{default:d(()=>[l(o,{lg:8,md:24,sm:24,xl:8,xs:24},{default:d(()=>[e("div",Ns,i(s.$t("system.userName")),1)]),_:1}),l(o,{lg:16,md:24,sm:24,xl:16,xs:24},{default:d(()=>[e("div",Os,[T(e("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=n=>a.value.username=n),readonly:v.value,placeholder:s.$t("public.text")},null,8,Ms),[[q,a.value.username]])])]),_:1})]),_:1})]),e("div",Rs,[l(u,{gutter:24,style:{width:"100%"}},{default:d(()=>[l(o,{lg:8,md:24,sm:24,xl:8,xs:24},{default:d(()=>[e("div",Fs,i(s.$t("system.password")),1)]),_:1}),l(o,{lg:16,md:24,sm:24,xl:16,xs:24},{default:d(()=>[e("div",Ps,[T(e("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=n=>a.value.password=n),readonly:v.value,placeholder:s.$t("public.text")},null,8,zs),[[q,a.value.password]])])]),_:1})]),_:1})]),e("div",Qs,[l(u,{gutter:24,style:{width:"100%"}},{default:d(()=>[l(o,{lg:8,md:24,sm:24,xl:8,xs:24},{default:d(()=>[e("div",Gs,i(s.$t("system.status")),1)]),_:1}),l(o,{lg:16,md:24,sm:24,xl:16,xs:24},{default:d(()=>[l(E,{selectData:a.value.status,onUpdate:F,options:M(P)},null,8,["selectData","options"])]),_:1})]),_:1})])])]),_:1},8,["modelValue","width"])])}}},re=Y(Js,[["__scopeId","data-v-f11db711"]]);export{re as default};
