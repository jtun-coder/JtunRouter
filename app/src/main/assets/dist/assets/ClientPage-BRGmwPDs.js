import{_ as O,U as A,a4 as V,k,a1 as T,a5 as b,o as i,g as c,s as e,x as t,a as r,p as o,w as l,J as g,Y as x,c as D,q as C}from"./index-71Dg03wj.js";import{E as N}from"./el-switch-B6OhAxTy.js";import{E as R,a as U}from"./el-col-CnxNQE2f.js";import{f as G,i as L,A as W,R as F,j as S}from"./index-DIBALKnI.js";import{E as v}from"./index-D6xFVOzw.js";import"./index-Dm26XwlJ.js";import"./index-A3A6N4E7.js";import"./constants-CUa6MTB8.js";import"./use-form-item-UjqXeot9.js";import"./typescript-Bp3YSIOJ.js";import"./request-CEcztA9E.js";import"./index-GXqeLr1C.js";import"./aria-BUADUvnR.js";const M={class:"OnlineClient"},P={class:"OnlineClientTop"},j={class:"OnlineHeader"},q={class:"headerLeft"},J={class:"OnlineBody"},Y={style:{overflow:"auto"}},z={class:"WifiTable"},K={class:"WifiHeader"},Q={class:"HeaderItem"},X={class:"HeaderItem"},Z={class:"HeaderItem"},ee={class:"HeaderItem"},se={class:"WifiBody"},te={key:0,class:"Nodata"},oe={key:1},le={class:"BodyItem"},ae={class:"BodyItemGroup"},de={class:"BodyItem2"},ne={class:"BodyItem2 greycolor"},ie={class:"BodyItemGroup"},ce={class:"BodyItem2"},re={class:"BodyItemGroup"},_e={class:"BodyItem2"},me={class:"OnlineClient mt24"},ue={class:"OnlineClientTop"},fe={class:"OnlineHeader"},he={class:"headerLeft"},ve={class:"OnlineBody"},pe={style:{overflow:"auto"}},ge={class:"WifiTable"},ye={class:"WifiHeader"},Ie={class:"HeaderItem"},we={class:"HeaderItem"},Be={class:"HeaderItem"},ke={class:"HeaderItem"},xe={class:"HeaderItem"},De={class:"WifiBody"},Ce={key:0,class:"Nodata"},$e={key:1},He={class:"BodyItem"},Ee={class:"BodyItemGroup"},Oe={class:"BodyItem2"},Ae={class:"BodyItem2"},Ve={class:"BodyItemGroup"},Te={class:"BodyItem2"},be={class:"BodyItem2"},Ne={class:"BodyItemGroup"},Re={class:"BodyItem2"},Ue={class:"BodyItem2"},Ge={class:"BodyItem"},Le={class:"ActionButton"},We=["onClick"],Fe={__name:"ClientPage",setup(Se){const $=A(),m=V();let u=k([]),_=k([]);const y=async()=>{try{const s=await G({password:m.token});s.code==0&&s.data.forEach(n=>{n.loading=!1,n.onLine==!0?u.value.push(n):_.value.push(n)})}catch(s){console.log(s)}};T(()=>{y()});const I=async s=>{console.log(s.allowInternet),s.loading=!0;const n=s.allowInternet?W:F;try{if((await n({password:m.token,mac:s.mac})).code===0)return!0;throw new Error("Failed to update")}catch{return!1}finally{s.loading=!1}},H=async s=>{try{(await S({password:m.token,mac:s.mac})).code==0?(v({message:"Delete successfully",type:"success"}),await y()):v({message:"Delete failed",type:"error"})}catch(n){console.log(n)}},E=async()=>{let s=[];_.value.forEach(n=>{n.mac&&s.push(n.mac)});try{(await L({password:m.token,macList:s})).code==0?(v({message:"Delete successfully",type:"success"}),$.go(0)):v({message:"Delete failed",type:"error"})}catch(n){console.log(n)}};return(s,n)=>{const d=U,f=R,w=N,B=b("FormatDate");return i(),c(g,null,[e("div",M,[e("div",P,[e("div",j,[e("div",q,t(s.$t("client.online"))+" ("+t(r(u).length)+")",1)]),e("div",J,[e("div",Y,[e("div",z,[e("div",K,[o(f,{gutter:10},{default:l(()=>[o(d,{lg:6,md:6,sm:6,xl:6,xs:6},{default:l(()=>[e("div",Q,t(s.$t("client.deviceName")),1)]),_:1}),o(d,{lg:8,md:8,sm:8,xl:8,xs:8},{default:l(()=>[e("div",X,t(s.$t("client.ip")),1)]),_:1}),o(d,{lg:7,md:7,sm:7,xl:7,xs:7},{default:l(()=>[e("div",Z,t(s.$t("client.linkTime")),1)]),_:1}),o(d,{lg:3,md:3,sm:3,xl:3,xs:3},{default:l(()=>[e("div",ee,t(s.$t("client.allow")),1)]),_:1})]),_:1})]),e("div",se,[r(u).length==0?(i(),c("div",te,"Nodata")):(i(),c("div",oe,[(i(!0),c(g,null,x(r(u),(a,p)=>(i(),D(f,{key:p,gutter:24,class:"RowItem"},{default:l(()=>[o(d,{lg:6,md:6,sm:6,xl:6,xs:6},{default:l(()=>[e("div",le,t(a.nickname!=""?a.nickname:"unknown"),1)]),_:2},1024),o(d,{lg:8,md:8,sm:8,xl:8,xs:8},{default:l(()=>[e("div",ae,[e("div",de,t(a.ipAddress),1),e("div",ne,t(a.mac.mAddr),1)])]),_:2},1024),o(d,{lg:7,md:7,sm:7,xl:7,xs:7},{default:l(()=>[e("div",ie,[C(e("div",ce,null,512),[[B,a.linkTime]])])]),_:2},1024),o(d,{lg:3,md:3,sm:3,xl:3,xs:3},{default:l(()=>[e("div",re,[e("div",_e,[o(w,{modelValue:a.allowInternet,"onUpdate:modelValue":h=>a.allowInternet=h,"active-color":"#13ce66","inactive-color":"#ff4949","before-change":()=>I(a)},null,8,["modelValue","onUpdate:modelValue","before-change"])])])]),_:2},1024)]),_:2},1024))),128))]))])])])])])]),e("div",me,[e("div",ue,[e("div",fe,[e("div",he,t(s.$t("client.offline"))+" ("+t(r(_).length)+")",1),e("div",{class:"headerRight",onClick:E},t(s.$t("client.deleteAll")),1)]),e("div",ve,[e("div",pe,[e("div",ge,[e("div",ye,[o(f,{gutter:24},{default:l(()=>[o(d,{lg:4,md:4,sm:4,xl:4,xs:4},{default:l(()=>[e("div",Ie,t(s.$t("client.deviceName")),1)]),_:1}),o(d,{lg:8,md:8,sm:8,xl:8,xs:8},{default:l(()=>[e("div",we,t(s.$t("client.ip")),1)]),_:1}),o(d,{lg:7,md:7,sm:7,xl:7,xs:7},{default:l(()=>[e("div",Be,t(s.$t("client.linkTime")),1)]),_:1}),o(d,{lg:3,md:3,sm:3,xl:3,xs:3},{default:l(()=>[e("div",ke,t(s.$t("client.allow")),1)]),_:1}),o(d,{lg:2,md:2,sm:2,xl:2,xs:2},{default:l(()=>[e("div",xe,t(s.$t("client.Action")),1)]),_:1})]),_:1})]),e("div",De,[r(_).length==0?(i(),c("div",Ce,"Nodata")):(i(),c("div",$e,[(i(!0),c(g,null,x(r(_),(a,p)=>(i(),D(f,{key:p,gutter:10,class:"RowItem"},{default:l(()=>[o(d,{lg:4,md:4,sm:4,xl:4,xs:4},{default:l(()=>[e("div",He,t(a.nickname!=""?a.nickname:"unknown"),1)]),_:2},1024),o(d,{lg:8,md:8,sm:8,xl:8,xs:8},{default:l(()=>[e("div",Ee,[e("div",Oe,t(a.ipAddress),1),e("div",Ae,t(a.mac),1)])]),_:2},1024),o(d,{lg:7,md:7,sm:7,xl:7,xs:7},{default:l(()=>[e("div",Ve,[C(e("div",Te,null,512),[[B,a.linkTime]]),e("div",be,t(a.SpeedDown),1)])]),_:2},1024),o(d,{lg:3,md:3,sm:3,xl:3,xs:3},{default:l(()=>[e("div",Ne,[e("div",Re,t(a.TrafficUp),1),e("div",Ue,[o(w,{modelValue:a.allowInternet,"onUpdate:modelValue":h=>a.allowInternet=h,"active-color":"#13ce66","inactive-color":"#ff4949",loading:a.loading,"before-change":()=>I(a)},null,8,["modelValue","onUpdate:modelValue","loading","before-change"])])])]),_:2},1024),o(d,{lg:2,md:2,sm:2,xl:2,xs:2},{default:l(()=>[e("div",Ge,[e("div",Le,[e("span",{class:"SpanDelete",onClick:h=>H(a)},t(s.$t("client.delete")),9,We)])])]),_:2},1024)]),_:2},1024))),128))]))])])])])])])],64)}}},ts=O(Fe,[["__scopeId","data-v-f0a99695"]]);export{ts as default};
