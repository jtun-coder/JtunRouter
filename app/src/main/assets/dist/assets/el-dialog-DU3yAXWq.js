import{a2 as _,F as G,L as J,G as Q,d as P,l as Z,B as U,f as T,o as E,g as N,s as A,r as g,n as f,a as e,x,p as I,w as m,c as K,a3 as ee,y as O,h as H,e as oe,u as se,k as q,E as te,T as ae,q as le,m as ne,aa as re,z as ie,b as de}from"./index-71Dg03wj.js";import{b as ce,c as ue,d as fe,a as me,u as ve,E as pe,e as ge}from"./el-overlay-B_18H0Zj.js";import{F as he,E as be,a as ye}from"./index-Dwdz3_fn.js";import{a as j,E as Ce,_ as V}from"./index-Dm26XwlJ.js";import{C as Ee}from"./index-A3A6N4E7.js";import{u as we}from"./index-CyMJZHAX.js";const ke=(...l)=>n=>{l.forEach(t=>{_(t)?t(n):t.value=n})},Le=(l,n,t,h)=>{let r={offsetX:0,offsetY:0};const i=v=>{const y=v.clientX,w=v.clientY,{offsetX:p,offsetY:c}=r,u=l.value.getBoundingClientRect(),C=u.left,a=u.top,D=u.width,k=u.height,R=document.documentElement.clientWidth,S=document.documentElement.clientHeight,B=-C+p,Y=-a+c,X=R-C-D+p,L=S-a-k+c,M=o=>{let $=p+o.clientX-y,F=c+o.clientY-w;h!=null&&h.value||($=Math.min(Math.max($,B),X),F=Math.min(Math.max(F,Y),L)),r={offsetX:$,offsetY:F},l.value&&(l.value.style.transform=`translate(${j($)}, ${j(F)})`)},z=()=>{document.removeEventListener("mousemove",M),document.removeEventListener("mouseup",z)};document.addEventListener("mousemove",M),document.addEventListener("mouseup",z)},b=()=>{n.value&&l.value&&n.value.addEventListener("mousedown",i)},d=()=>{n.value&&l.value&&n.value.removeEventListener("mousedown",i)},s=()=>{r={offsetX:0,offsetY:0},l.value&&(l.value.style.transform="none")};return G(()=>{J(()=>{t.value?b():d()})}),Q(()=>{d()}),{resetPosition:s}},W=Symbol("dialogInjectionKey"),$e=P({name:"ElDialogContent"}),Te=P({...$e,props:ce,emits:ue,setup(l,{expose:n}){const t=l,{t:h}=Z(),{Close:r}=Ee,{dialogRef:i,headerRef:b,bodyId:d,ns:s,style:v}=U(W),{focusTrapRef:y}=U(he),w=T(()=>[s.b(),s.is("fullscreen",t.fullscreen),s.is("draggable",t.draggable),s.is("align-center",t.alignCenter),{[s.m("center")]:t.center}]),p=ke(y,i),c=T(()=>t.draggable),u=T(()=>t.overflow),{resetPosition:C}=Le(i,b,c,u);return n({resetPosition:C}),(a,D)=>(E(),N("div",{ref:e(p),class:f(e(w)),style:H(e(v)),tabindex:"-1"},[A("header",{ref_key:"headerRef",ref:b,class:f([e(s).e("header"),{"show-close":a.showClose}])},[g(a.$slots,"header",{},()=>[A("span",{role:"heading","aria-level":a.ariaLevel,class:f(e(s).e("title"))},x(a.title),11,["aria-level"])]),a.showClose?(E(),N("button",{key:0,"aria-label":e(h)("el.dialog.close"),class:f(e(s).e("headerbtn")),type:"button",onClick:k=>a.$emit("close")},[I(e(Ce),{class:f(e(s).e("close"))},{default:m(()=>[(E(),K(ee(a.closeIcon||e(r))))]),_:1},8,["class"])],10,["aria-label","onClick"])):O("v-if",!0)],2),A("div",{id:e(d),class:f(e(s).e("body"))},[g(a.$slots,"default")],10,["id"]),a.$slots.footer?(E(),N("footer",{key:0,class:f(e(s).e("footer"))},[g(a.$slots,"footer")],2)):O("v-if",!0)],6))}});var De=V(Te,[["__file","dialog-content.vue"]]);const Me=P({name:"ElDialog",inheritAttrs:!1}),Fe=P({...Me,props:fe,emits:me,setup(l,{expose:n}){const t=l,h=oe();we({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},T(()=>!!h.title));const r=se("dialog"),i=q(),b=q(),d=q(),{visible:s,titleId:v,bodyId:y,style:w,overlayDialogStyle:p,rendered:c,zIndex:u,afterEnter:C,afterLeave:a,beforeLeave:D,handleClose:k,onModalClick:R,onOpenAutoFocus:S,onCloseAutoFocus:B,onCloseRequested:Y,onFocusoutPrevented:X}=ve(t,i);te(W,{dialogRef:i,headerRef:b,bodyId:y,ns:r,rendered:c,style:w});const L=ge(R),M=T(()=>t.draggable&&!t.fullscreen);return n({visible:s,dialogContentRef:d,resetPosition:()=>{var o;(o=d.value)==null||o.resetPosition()}}),(o,$)=>(E(),K(e(ye),{to:o.appendTo,disabled:o.appendTo!=="body"?!1:!o.appendToBody},{default:m(()=>[I(ae,{name:"dialog-fade",onAfterEnter:e(C),onAfterLeave:e(a),onBeforeLeave:e(D),persisted:""},{default:m(()=>[le(I(e(pe),{"custom-mask-event":"",mask:o.modal,"overlay-class":o.modalClass,"z-index":e(u)},{default:m(()=>[A("div",{role:"dialog","aria-modal":"true","aria-label":o.title||void 0,"aria-labelledby":o.title?void 0:e(v),"aria-describedby":e(y),class:f(`${e(r).namespace.value}-overlay-dialog`),style:H(e(p)),onClick:e(L).onClick,onMousedown:e(L).onMousedown,onMouseup:e(L).onMouseup},[I(e(be),{loop:"",trapped:e(s),"focus-start-el":"container",onFocusAfterTrapped:e(S),onFocusAfterReleased:e(B),onFocusoutPrevented:e(X),onReleaseRequested:e(Y)},{default:m(()=>[e(c)?(E(),K(De,ne({key:0,ref_key:"dialogContentRef",ref:d},o.$attrs,{center:o.center,"align-center":o.alignCenter,"close-icon":o.closeIcon,draggable:e(M),overflow:o.overflow,fullscreen:o.fullscreen,"show-close":o.showClose,title:o.title,"aria-level":o.headerAriaLevel,onClose:e(k)}),re({header:m(()=>[o.$slots.title?g(o.$slots,"title",{key:1}):g(o.$slots,"header",{key:0,close:e(k),titleId:e(v),titleClass:e(r).e("title")})]),default:m(()=>[g(o.$slots,"default")]),_:2},[o.$slots.footer?{name:"footer",fn:m(()=>[g(o.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","show-close","title","aria-level","onClose"])):O("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,["aria-label","aria-labelledby","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["mask","overlay-class","z-index"]),[[ie,e(s)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var Ae=V(Fe,[["__file","dialog.vue"]]);const Xe=de(Ae);export{Xe as E};
